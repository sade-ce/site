<main>
    <header >
        <h1>{{ "PAYMENT SETTING" | t }}</h1>
        <p>*Please Choose a Payment Method and Fill Out the Appropriate Information</p>
        <p><b>Note</b> *GCash and Western Union are only available to local transactions.</p>
    </header>
    <h2>Payment Method</h2>
    <div class="loader" *ngIf=" loadingInformation ">
        <mat-spinner [diameter]="48"></mat-spinner>
        <span>{{ 'IN LOADING' | t}}</span>
    </div>
    <section *ngIf=" ! loadingInformation ">
        <div class="payment-method">
            <label>
                <input type="radio" name="payment_method"
                       [(ngModel)]="payment_information['payment_method']" value="gcash">
                <div class="gcash">
                    <svg aria-hidden="true" data-prefix="fal" data-icon="tablet-alt" role="img"
                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                        <path fill="currentColor"
                              d="M352 96v256H96V96h256m20-32H76c-6.6 0-12 5.4-12 12v296c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12zm28-64H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm16 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h352c8.8 0 16 7.2 16 16v416zm-192-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"></path>
                    </svg>
                    <span>GCash</span>
                </div>
            </label>

            <label>
                <input type="radio" name="payment_method"
                       [(ngModel)]="payment_information['payment_method']" value="western-union">
                <div class="western-union">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path fill="currentColor"
                              d="M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"/>
                    </svg>
                    <span>Western Union</span>
                </div>
            </label>

            <label>
                <input type="radio" name="payment_method"
                       [(ngModel)]="payment_information['payment_method']" value="paypal">
                <div class="paypal">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                        <path fill="currentColor"
                              d="M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"/>
                    </svg>
                    <span>Paypal</span>
                </div>
            </label>

        </div>


        <div class="input-info">

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> First Name</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['first_name']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Middle Name</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['middle_name']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Last Name</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['last_name']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Phone Number</mat-label>
                    <input type="tel" matInput [(ngModel)]="payment_information['phone_number']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Email</mat-label>
                    <input type="email" matInput [(ngModel)]="payment_information['email']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Country</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['country']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Province</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['province']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> City</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['city']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Addrress</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['address']">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline">
                    <mat-label> Zipcode</mat-label>
                    <input type="text" matInput [(ngModel)]="payment_information['zipcode']">
                </mat-form-field>
            </div>

            <div class="update-button">
                <button (click)="onClickSubmit()">
                    UPDATE
                </button>
            </div>
        </div>

    </section>

    <hr>

    <div>
        <div class="payment-information-history">
            <h2>{{ "PAYMENT INFORMATION HISTORY" | t }}</h2>

            <div class="show-history-button">
                <button (click)="onClickShowHistory()"> Show History</button>
            </div>

            <div class="loader mt-3" *ngIf=" loadingHistory ">
                <mat-spinner [diameter]="48"></mat-spinner>
                <span>{{ 'IN LOADING' | t}}</span>
            </div>

            <ul *ngIf=" !loadingHistory ">
                <ng-container *ngFor="let info of payment_information_history; let odd = odd">
                    <li (click)="info['more'] =  !info['more']">
                        <div>
                            <span>Date/Time Changed: {{a.shortDate(info.stamp)}}</span>
                            <span [class.rotate-45-on]="info['more']" [class.rotate-45-off]="!info['more']">
                                <svg class="plus-icon" aria-hidden="true" data-prefix="fal" data-icon="plus" role="img"
                                     xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path
                                        fill="currentColor"
                                        d="M436 238H242V44c0-6.6-5.4-12-12-12h-12c-6.6 0-12 5.4-12 12v194H12c-6.6 0-12 5.4-12 12v12c0 6.6 5.4 12 12 12h194v194c0 6.6 5.4 12 12 12h12c6.6 0 12-5.4 12-12V274h194c6.6 0 12-5.4 12-12v-12c0-6.6-5.4-12-12-12z"></path></svg>
                            </span>
                        </div>
                        <div class="list" *ngIf="info['more']">
                            <div>
                                <div>First Name</div>
                                <div>{{info['first_name']}}</div>
                            </div>
                            <div>
                                <div>Middle Name</div>
                                <div>{{info['middle_name']}}</div>
                            </div>
                            <div>
                                <div>Last Name</div>
                                <div>{{info['last_name']}}</div>
                            </div>
                            <div>
                                <div>Phone Number</div>
                                <div>{{info['phone_number']}}</div>
                            </div>
                            <div>
                                <div>Email</div>
                                <div>{{info['email']}}</div>
                            </div>
                            <div>
                                <div>Payment Method</div>
                                <div>{{info['payment_method']}}</div>
                            </div>
                            <div>
                                <div>Country</div>
                                <div>{{info['country']}}</div>
                            </div>
                            <div>
                                <div>Province</div>
                                <div>{{info['province']}}</div>
                            </div>
                            <div>
                                <div>City</div>
                                <div>{{info['city']}}</div>
                            </div>
                            <div>
                                <div>Address</div>
                                <div>{{info['address']}}</div>
                            </div>
                            <div>
                                <div>Zipcode</div>
                                <div>{{info['zipcode']}}</div>
                            </div>
                        </div>
                    </li>
                </ng-container>
            </ul>
        </div>

    </div>
</main>