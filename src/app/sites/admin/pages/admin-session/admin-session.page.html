<h1>Session List &amp; Search</h1>
<div>Timezone: {{ a.userTime }} (The time of input and display is based on your timezone settings.)</div>
<form (ngSubmit)="onSubmit( $event )">
    <input class="narrow" type="text" name="idx" [(ngModel)]="form.idx" placeholder="idx">
    <input class="narrow" type="text" name="idx_teacher" [(ngModel)]="form.idx_teacher" placeholder="idx_teacher">
    <input class="narrow" type="text" name="idx_student" [(ngModel)]="form.idx_student" placeholder="idx_student">
    <input class="narrow" type="text" name="idx_schedule" [(ngModel)]="form.idx_schedule" placeholder="idx_schedule">

    <span class="app-button" (click)="onClickFuture()">Future</span>
    <span class="app-button" (click)="onClickPast()">Past</span>

    Date:
    <input class="normal" type="text" name="date_begin" [(ngModel)]="form.date_begin"> ~
    <input class="normal" type="text" name="date_end" [(ngModel)]="form.date_end"> Time:
    <input class="narrow" type="text" name="class_begin" [(ngModel)]="form.class_begin">
    <input class="narrow" type="text" name="class_end" [(ngModel)]="form.class_end"> Point:
    <input class="narrow" type="text" name="point_begin" [(ngModel)]="form.point_begin"> ~
    <input class="narrow" type="text" name="point_end" [(ngModel)]="form.point_end">

    <input id="paid" type="checkbox" name="paid" [(ngModel)]="form.paid">
    <label for="paid">Paid</label>
    <input id="refund_done_at" type="checkbox" name="refund_done_at" [(ngModel)]="form.refund_done_at">
    <label for="refund_done_at">Refunded</label>

    <input id="refund_done_point" type="checkbox" name="refund_done_point" [(ngModel)]="form.refund_done_point">
    <label for="refund_done_point">Refunded with Point</label>

    <input id="refund_request_at" type="checkbox" name="refund_request_at" [(ngModel)]="form.refund_request_at">
    <label for="refund_request_at">Requested</label>
    <input id="refund_reject_at" type="checkbox" name="refund_reject_at" [(ngModel)]="form.refund_reject_at">
    <label for="refund_reject_at">Rejected</label>
    <input id="refund_settle_at" type="checkbox" name="refund_settle_at" [(ngModel)]="form.refund_settle_at">
    <label for="refund_settle_at">Settled</label>

    <input id="teacher_absent" type="checkbox" name="teacher_absent" [(ngModel)]="form.teacher_absent">
    <label for="teacher_absent">Teacher Absent</label>

    <input id="student_absent" type="checkbox" name="student_absent" [(ngModel)]="form.student_absent">
    <label for="student_absent">Student Absent</label>

    <input id="successful" type="checkbox" name="successful" [(ngModel)]="form.successful">
    <label for="successful">Successful</label>
    <input id="comment" type="checkbox" name="comment" [(ngModel)]="form.comment">
    <label for="comment">Has Comment</label>



    <input id="stamp_checked" type="checkbox" name="stamp_checked" [(ngModel)]="form.stamp_checked">
    <label for="stamp_checked">Checked</label>
    <input id="stamp_unchecked" type="checkbox" name="stamp_unchecked" [(ngModel)]="form.stamp_unchecked">
    <label for="stamp_unchecked">Unchecked</label>

    Limit
    <input class="narrow" type="text" name="limit" [(ngModel)]="form.limit"> Order
    <select name="order" [(ngModel)]="form.order">
        <option value="DATETIME">DATETIME</option>
        <option value="idx">idx</option>
        <option value="point">Point</option>
        <option value="paid">Paid</option>
        <option value="stamp_reserve">Reserved At</option>
    </select>
    by
    <select name="by" [(ngModel)]="form.by">
        <option value="ASC">ASC</option>
        <option value="DESC">DESC</option>
    </select>
    <hr> Display
    <input type="checkbox" id="reserved_at" name="display_reserved_at" [(ngModel)]="form.display.reserved_at">
    <label for="reserved_at">Reserved At</label>
    <input type="checkbox" id="display_paid" name="display_paid" [(ngModel)]="form.display.paid">
    <label for="paid">Paid</label>
    <input type="checkbox" id="display_refund_request_at" name="display_refund_request_at" [(ngModel)]="form.display.refund_request_at">
    <label for="display_refund_request_at">Refund Request At</label>
    <input type="checkbox" id="refund_request_message" name="display_refund_request_message" [(ngModel)]="form.display.refund_request_message">
    <label for="refund_request_message">Request Message</label>
    <input type="checkbox" id="display_refund_reject_at" name="display_refund_reject_at" [(ngModel)]="form.display.refund_reject_at">
    <label for="display_refund_reject_at">Reject At</label>
    <input type="checkbox" id="refund_reject_message" name="display_refund_reject_message" [(ngModel)]="form.display.refund_reject_message">
    <label for="refund_reject_message">Reject Message</label>
    <input type="checkbox" id="display_refund_done_at" name="display_refund_done_at" [(ngModel)]="form.display.refund_done_at">
    <label for="display_refund_done_at">Refund Done At</label>
    <input type="checkbox" id="display_refund_done_point" name="display_refund_done_point" [(ngModel)]="form.display.refund_done_point">
    <label for="display_refund_done_point">Done Point</label>
    <input type="checkbox" id="refund_done_by" name="display_refund_done_by" [(ngModel)]="form.display.refund_done_by">
    <label for="refund_done_by">Done By</label>
    <input type="checkbox" id="display_refund_settle_at" name="display_refund_settle_at" [(ngModel)]="form.display.refund_settle_at">
    <label for="display_refund_settle_at">Settled At</label>
    <input type="checkbox" id="refund_settle_message" name="display_refund_settle_message" [(ngModel)]="form.display.refund_settle_message">
    <label for="refund_settle_message">Settled Message</label>
    <input type="checkbox" id="display_teacher_absent" name="display_teacher_absent" [(ngModel)]="form.display.teacher_absent">
    <label for="display_teacher_absent">Teacher Absent</label>
    <input type="checkbox" id="display_student_absent" name="display_student_absent" [(ngModel)]="form.display.student_absent">
    <label for="display_student_absent">Student Absent</label>
    <input type="checkbox" id="display_successful" name="display_successful" [(ngModel)]="form.display.successful">
    <label for="display_successful">Successful</label>
    <input type="checkbox" id="expression" name="display_expression" [(ngModel)]="form.display.expression">
    <label for="expression">Expression</label>
    <input type="checkbox" id="vocabulary" name="display_vocabulary" [(ngModel)]="form.display.vocabulary">
    <label for="vocabulary">Vocabulary</label>
    <input type="checkbox" id="grammar" name="display_grammar" [(ngModel)]="form.display.grammar">
    <label for="grammar">Grammar</label>
    <input type="checkbox" id="pronunciation" name="display_pronunciation" [(ngModel)]="form.display.pronunciation">
    <label for="pronunciation">Pronunciation</label>
    <input type="checkbox" id="speed" name="display_speed" [(ngModel)]="form.display.speed">
    <label for="speed">Speed</label>
    <input type="checkbox" id="display_comment" name="display_comment" [(ngModel)]="form.display.comment">
    <label for="display_comment">Comment</label>
    <input type="checkbox" id="display_checked" name="display_checked" [(ngModel)]="form.display.stamp_checked">
    <label for="display_checked">Checked</label>
    <input type="checkbox" id="book_used" name="display_book_used" [(ngModel)]="form.display.book_used">
    <label for="book_used">Book Used</label>
    <input type="checkbox" id="book_next" name="display_book_next" [(ngModel)]="form.display.book_next">
    <label for="book_next">Book Next</label>
    <hr>

    <button type="submit">SEARCH</button>
</form>

<div *ngIf=" show.loader ">Loading...</div>
<section class="stat" *ngIf=" re.length ">
    <b>No of searched Sessions: {{ re.length }}</b>
    <span class="app-button" (click)="show.stat=true" *ngIf="!show.stat">Show Stats</span>
    <span class="app-button" (click)="show.stat=false" *ngIf="show.stat">Hide Stats</span>
    <div class="details" *ngIf=" show.stat ">
        <div class="daily-reservations">
            <b>Daily Reservations(UTC+0):</b>
            <span class="daily-reservation" *ngFor="let date of stat.dateOfDailyReservation">
                <span class="date">{{ date }}</span>
                <span class="no" [style.min-width]=" stat.dailyReservation[date] + 'px' ">{{ stat.dailyReservation[date] }}</span>
            </span>
        </div>


        <div class="daily-freeclasses">
            <b>Daily Freeclass(UTC+0):</b>
            <span class="daily-freeclass" *ngFor="let date of stat.dateOfDailyFreeclass">
                <span class="date">{{ date }}</span>
                <span class="no">{{ stat.dailyFreeclass[date] }}</span>
            </span>
        </div>
        <div class="daily-points">
            <b>Daily Point(UTC+0):</b>
            <span class="daily-point" *ngFor="let date of stat.dateOfDailyPoint">
                <span class="date">{{ date }}</span>
                <span class="no">{{ stat.dailyPoint[date] | number }}</span>
            </span>
        </div>

        <div class="teacher-reservations">
            <b>No of reservations for each teacher</b>
            <span class="teacher-reservation" *ngFor="let teacher of stat.nameOfTeacherReservation">
                <span class="teacher">{{ teacher }}</span>
                <span class="no">{{ stat.teacherReservation[teacher] | number }}</span>
            </span>
        </div>


        <div class="student-reservations">
            <b>No of reservations for each student</b>
            <span class="student-reservation" *ngFor="let student of stat.nameOfStudentReservation">
                <span class="student">{{ student }}</span>
                <span class="no">{{ stat.studentReservation[student] | number }}</span>
            </span>
        </div>

        <div class="teacher-refund-requests">
            <b>No of refund request of Teacher: </b>
            <span class="teacher-refund-request" *ngFor="let teacher of stat.nameOfTeacherRefundRequest">
                <span class="teacher">{{ teacher }}</span>
                <span class="no">{{ stat.teacherRefundRequest[teacher] | number }}</span>
            </span>
        </div>
        <div class="student-refund-requests">
            <b>No of refund request of student: </b>
            <span class="student-refund-request" *ngFor="let student of stat.nameOfStudentRefundRequest">
                <span class="student">{{ student }}</span>
                <span class="no">{{ stat.studentRefundRequest[student] | number }}</span>
            </span>
        </div>


        <div class="teacher-refund-rejects">
            <b>No of refund reject of Teacher: </b>
            <span class="teacher-refund-reject" *ngFor="let teacher of stat.nameOfTeacherRefundReject">
                <span class="teacher">{{ teacher }}</span>
                <span class="no">{{ stat.teacherRefundReject[teacher] | number }}</span>
            </span>
        </div>


        <div class="teacher-refund-dones">
            <b>No of refund done of Teacher: </b>
            <span class="teacher-refund-done" *ngFor="let teacher of stat.nameOfTeacherRefundDone">
                <span class="teacher">{{ teacher }}</span>
                <span class="no">{{ stat.teacherRefundDone[teacher] | number }}</span>
            </span>
        </div>

    </div>
</section>
The time of session list is in your timezone. {{ a.userTime }}
<table class="sessions" *ngIf=" re.length ">
    <tr>
        <th>idx</th>
        <th>Teacher</th>
        <th>Student</th>
        <th>Date</th>
        <th>Begin</th>
        <th>End</th>
        <th>Point</th>
        <th *ngIf=" form.display.reserved_at ">Reserved At</th>
        <th *ngIf=" form.display.paid ">Paid</th>
        <th *ngIf=" form.display.refund_request_at ">Refund Request At</th>
        <th *ngIf=" form.display.refund_request_message ">Request Message</th>
        <th *ngIf=" form.display.refund_reject_at ">Reject At</th>
        <th *ngIf=" form.display.refund_reject_message ">Reject Message</th>
        <th *ngIf=" form.display.refund_done_at ">Done At</th>
        <th *ngIf=" form.display.refund_done_point ">Done Point</th>
        <th *ngIf=" form.display.refund_done_by ">Done By</th>
        <th *ngIf=" form.display.refund_settle_at ">Settled At</th>
        <th *ngIf=" form.display.refund_settle_message ">Settled Message</th>
        <th *ngIf=" form.display.teacher_absent ">Teacher Absent</th>
        <th *ngIf=" form.display.student_absent ">Student Absent</th>
        <th *ngIf=" form.display.successful ">Successful</th>
        <th *ngIf=" form.display.expression ">Expression</th>
        <th *ngIf=" form.display.vocabulary ">Vocabulary</th>
        <th *ngIf=" form.display.grammar ">Grammar</th>
        <th *ngIf=" form.display.pronunciation ">Pronuncitation</th>
        <th *ngIf=" form.display.speed ">Speed</th>
        <th *ngIf=" form.display.comment ">Comment</th>
        <th *ngIf=" form.display.book_used ">Book Used</th>
        <th *ngIf=" form.display.book_next ">Book Next</th>
        <th *ngIf=" form.display.stamp_checked ">Checked</th>
    </tr>
    <tr *ngFor="let session of re">
        <td routerLink="/manager/session-edit/{{session.idx}}">{{ session.idx }}<button class="user-info-button">e</button></td>
        <td routerLink="/manager/user-info/{{session.teacher?.idx}}">{{ session.teacher?.display_name }}<button class="user-info-button">e</button></td>
        <td routerLink="/manager/user-info/{{session.student?.idx}}">{{ session.student?.display_name }}<button class="user-info-button">e</button></td>
        <td>{{ session.date }}</td>
        <td>{{ session.class_begin }}</td>
        <td>{{ session.class_end }}</td>
        <td>{{ session.point }}</td>
        <td *ngIf=" form.display.reserved_at ">{{ session.stamp_reserve }}</td>
        <td *ngIf=" form.display.paid ">{{ session.paid }}</td>
        <td *ngIf=" form.display.refund_request_at ">{{ session.refund_request_at }}</td>
        <td *ngIf=" form.display.refund_request_message ">{{ session.refund_request_message }}</td>
        <td *ngIf=" form.display.refund_reject_at ">{{ session.refund_reject_at }}</td>
        <td *ngIf=" form.display.refund_reject_message ">{{ session.refund_reject_message }}</td>
        <td *ngIf=" form.display.refund_done_at ">{{ session.refund_done_at }}</td>
        <td *ngIf=" form.display.refund_done_point ">{{ session.refund_done_point }}</td>
        <td *ngIf=" form.display.refund_done_by ">{{ session.refund_done_by }}</td>
        <td *ngIf=" form.display.refund_settle_at ">{{ session.refund_settle_at }}</td>
        <td *ngIf=" form.display.refund_settle_message ">{{ session.refund_settle_message }}</td>
        <td *ngIf=" form.display.teacher_absent ">{{ session.teacher_absent }}</td>
        <td *ngIf=" form.display.student_absent ">{{ session.student_absent }}</td>
        <td *ngIf=" form.display.successful ">{{ session.successful }}</td>
        <td *ngIf=" form.display.expression ">{{ session.expression }}</td>
        <td *ngIf=" form.display.vocabulary ">{{ session.vocabulary }}</td>
        <td *ngIf=" form.display.grammar ">{{ session.grammar }}</td>
        <td *ngIf=" form.display.pronunciation ">{{ session.pronunciation }}</td>
        <td *ngIf=" form.display.speed ">{{ session.speed }}</td>
        <td *ngIf=" form.display.comment ">{{ session.comment }}</td>
        <td *ngIf=" form.display.book_used ">{{ session.book_used }}</td>
        <td *ngIf=" form.display.book_next ">{{ session.book_next }}</td>
        <td *ngIf=" form.display.stamp_checked ">{{ session.stamp_checked  != '0' ? 'Y' : 'N' }}</td>
    </tr>
</table>